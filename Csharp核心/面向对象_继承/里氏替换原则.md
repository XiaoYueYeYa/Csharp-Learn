### 里氏<span id="里氏替换">替换</span>原则

#### 总结:
[万物之父object中的方法](../面向对象_相关/万物之父object中的方法.md)
==概念:==**父类容器装子类对象**
==作用:==方便进行对象的存储和管理
==使用:==`is` 和 `as`
`is`用于**判断**
`as`用于**转换**
==注意:==**不能**用**子类**容器**装父类**对象

#### 基本概念

==里氏替换原则==是面向对象 **七大原则中最重要的原则**
==概念:==
任何**父类出现的地方** **子类都可以替代**
==重点:==
语法表现 - **父类容器装子类对象** **因为子类对象包含了父类的所有内容**
==作用:==
**方便**进行对象**存储和管理**

#### 基本实现

```c#
class GameObject
{

}

class Player : GameObject
{
    public void PlayerAtk()
    {
        Console.WriteLine("玩家攻击");
    }
}
class Monster : GameObject
{
    public void MonsterAtk()
    {
        Console.WriteLine("怪物攻击");
    }
}
class Boos : GameObject
{
    public void BoosAtk()
    {
        Console.WriteLine("Boos攻击");
    }
}
```

**里氏替换原则 用父类容器 装载子类对象**

```c#
GameObject player = new Player();
GameObject monster = new Monster();
GameObject boos = new Boos();

GameObject[] objects = new GameObject[] { new Player(),new Monster(),new Boos() };
```



#### is和as

==基本概念:==
`is`:**判断**一个对象**是否是指定类对象**
**返回值:bool** 是为真 不是为假

`as`:将一个对象**转换为指定对象**
**返回值:指定类型对象**
返成功返回指定类型对象 **失败返回bull**

==基本语法==
类对象 `is` 类名  该语句块 会有一个`bool`返回值 `true`和`false`
类对象 `as` 类名  该语句块 会有一个对象返回值 对象和`null`

```c#
if(player is Player)
{
    //Player p = player as Player;
    //p.PlayerAtk();
    //简写:
    (player as Player).PlayerAtk();
}

for(int i = 0;i < objects.Length; i++)
{
    if (objects[i] is Player)
    {
        (objects[i] as Player).PlayerAtk();
    }
    else if (objects[i] is Monster)
    {
        (objects[i] as Monster).MonsterAtk();
    }
    else if (objects[i] is Boos)
    {
        (objects[i] as Boos).BoosAtk();
    }
}
```



---
