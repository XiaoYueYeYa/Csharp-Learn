### 静态成员

#### 总结:

==概念:==用`static`**修饰的成员变量** 成员方法 成员属性等 就称为**静态成员**
==特点:==直接用类名点出来使用(**全局性**)
==生命周期:==和程序同生共死(程序运行后会一直存在内存中 直到程序结束后才会释放 因此静态成员具有**唯一性**)
==注意:==
1.静态函数中不能直接使用非静态成员
2.非静态函数可以直接使用静态成员

==常量和静态变量==
常量是特殊的静态变量
相同点
他们都可以通过类名点出来使用
==不同点==
1.`const`必须初始化不能被修改 `static`没有这个规则
2.`const`只能修饰变量 `static`可以修饰很多
3.`const`不会写在访问修饰符前面 一定是写在变量声明钱 `static`没有这个规则

#### 基本概念

**静态关键词** `static`
用`static`修饰的 成员变量 方法 属性等
称为静态成员

静态成员的特点是:**直接用类名点出使用**

#### 自定义静态成员

```c#
class Test
{
    //静态成员变量
    public static float PI = 3.1416926f;
    //成员变量
    public int testInt = 100;

    //public 和 static 位置可以互相交换

    //静态成员方法
    static public float CalcCircle(float r)
    {
        #region 知识点六 静态函数中不能使用非静态成员
        //成员变量只能将对象实例化出来后 才能点出来使用 不能无中生有
        //不能直接使用 非静态成员 否则会报错(只能先实例化才能使用)
        //testInt
        Test test = new Test();
        Console.WriteLine(test.testInt);
        #endregion
        //πr²
        return PI * r * r;
    }
    //成员方法
    public void TestFun()
    {
        Console.WriteLine("123");
        #region 知识点七 非静态函数中可以使用静态成员
        Console.WriteLine(PI);
        Console.WriteLine(CalcCircle(2));
        #endregion
    }

}
```

#### 静态成员的使用

```c#
//静态
Console.WriteLine(Test.PI);
Console.WriteLine(Test.CalcCircle(2));

//非静态
Test t = new Test();
Console.WriteLine(t.testInt);
t.TestFun();
```

#### 为什么可以直接点出来使用

==记住!==
程序中是**不能无中生有**的
我们要使用的对象 变量 函数**都是**要在**内存中分配空间**的
之所以要实例化对象 目的就是分配内存空间 在程序中产生一个抽象的对象

==静态成员的特点==
程序开始运行时 就会分配内存空间 所以我们就能直接使用
**静态成员和程序同生共死**
只要使用了它 直到**程序结束时**内存空间**才会被释放**
所以一个静态成员就会有自己唯一的一个"内存小房间"
这让静态成员有了**唯一性**
在任何地方使用都是用小房间里面的内容 改变了它也是改变小房间的内容

#### 静态成员对于我们的作用

==静态变量:==
1.**常用**唯一的声明
2**.方便**别人**获取**的**对象声明**
==静态方法==
常用的唯一的方法声明 比如 相同规则的数学计算相关函数

#### 常量和静态变量

`const`(常量)可以理解为特殊的`static`(静态)
==相同点==
他们都可以通过**类名点出来使用**
==不同点==
1.`const`必须初始化 不能修改 `static`没有这个规则
2.`const`只能修饰变量 `static`可以修饰很多
3.`const`一定是写在访问修饰符后面的 `static`没有这个要求

#### 单例模式

```c#
class Test
{
    private static Test instance = new Test();
    private Test() { }
    public static Test Instance
    {
        get { return instance; }
    }
    public int v;
}
```

```c#
//直接点出使用
Test.Instance.v = 1;
```



### 静态类和静态构造函数

#### 总结

==静态类:==
用`static` 修饰的类
==特点:==
只能包含静态成员
不能实例化
==作用:==
使做工具类
拓展方法

==静态构造函数:==
用`static`修饰的构造函数
==特点:==
静态类和普通类都可以有静态构造函数
不能使用访问修饰符
不能有参数
只会**自动调用一次**
==作用:==
初始化静态成员

#### 基本概念

用`static`修饰的类

==特点:==
只能包含静态成员
不能被实例化

==作用==
1.将常用的静态成员写在静态类中 方便使用
2.静态类不能实例化 更能体现工具类的 唯一性
比如`Console`就是一个静态类

```c#
static class TestStatic
{
    //静态成员变量
    public static int testIndex = 111;
    //静态成员方法(函数)
    public static void TestFun()
    {

    }
    //静态成员属性
    public static int TestIndex
    {
        get;
        set;
    }
}
```

#### 静态构造函数

在构造函数加上`static`修饰

==特点:==
1.静态类和普通类**都可以有**
2.**不能**使用访问修饰符
3.**不能**有参数
4.**只会自动调用一次**(使用类的时候自动最先调用静态构造函数)

==作用:==
在静态类构造函数中初始化 静态变量

==使用:==
1.静态类中的静态构造函数

```c#
static class StaticClass
{
    public static int testInt = 100;
    public static int testInt2 = 200;
    //静态构造函数
    static StaticClass()
    {
        Console.WriteLine("静态构造函数");
        testInt = 200;
        testInt2 = 300;
    }
}
//2.普通类中的静态构造函数
class Test
{
    public static int testInt = 100;
    static Test()
    {
        Console.WriteLine("静态构造函数");
    }
    public Test()
    {
        Console.WriteLine("普通构造函数");
    }
}
```



---
